{"version":3,"sources":["../../../src/php/array/array_multisort.js"],"names":[],"mappings":"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","file":"array_multisort.js","sourcesContent":["module.exports = function array_multisort (arr) { // eslint-disable-line camelcase\n  //  discuss at: http://locutus.io/php/array_multisort/\n  // original by: Theriault (https://github.com/Theriault)\n  //   example 1: array_multisort([1, 2, 1, 2, 1, 2], [1, 2, 3, 4, 5, 6])\n  //   returns 1: true\n  //   example 2: var $characters = {A: 'Edward', B: 'Locke', C: 'Sabin', D: 'Terra', E: 'Edward'}\n  //   example 2: var $jobs = {A: 'Warrior', B: 'Thief', C: 'Monk', D: 'Mage', E: 'Knight'}\n  //   example 2: array_multisort($characters, 'SORT_DESC', 'SORT_STRING', $jobs, 'SORT_ASC', 'SORT_STRING')\n  //   returns 2: true\n  //   example 3: var $lastnames = [ 'Carter','Adams','Monroe','Tyler','Madison','Kennedy','Adams']\n  //   example 3: var $firstnames = ['James', 'John' ,'James', 'John', 'James',  'John',   'John']\n  //   example 3: var $president = [ 39, 6, 5, 10, 4, 35, 2 ]\n  //   example 3: array_multisort($firstnames, 'SORT_DESC', 'SORT_STRING', $lastnames, 'SORT_ASC', 'SORT_STRING', $president, 'SORT_NUMERIC')\n  //   returns 3: true\n  //      note 1: flags: Translation table for sort arguments.\n  //      note 1: Each argument turns on certain bits in the flag byte through addition.\n  //      note 1: bits: HGFE DCBA\n  //      note 1: args: Holds pointer to arguments for reassignment\n\n  var g\n  var i\n  var j\n  var k\n  var l\n  var sal\n  var vkey\n  var elIndex\n  var lastSorts\n  var tmpArray\n  var zlast\n\n  var sortFlag = [0]\n  var thingsToSort = []\n  var nLastSort = []\n  var lastSort = []\n  // possibly redundant\n  var args = arguments\n\n  var flags = {\n    'SORT_REGULAR': 16,\n    'SORT_NUMERIC': 17,\n    'SORT_STRING': 18,\n    'SORT_ASC': 32,\n    'SORT_DESC': 40\n  }\n\n  var sortDuplicator = function (a, b) {\n    return nLastSort.shift()\n  }\n\n  var sortFunctions = [\n    [\n\n      function (a, b) {\n        lastSort.push(a > b ? 1 : (a < b ? -1 : 0))\n        return a > b ? 1 : (a < b ? -1 : 0)\n      },\n      function (a, b) {\n        lastSort.push(b > a ? 1 : (b < a ? -1 : 0))\n        return b > a ? 1 : (b < a ? -1 : 0)\n      }\n    ],\n    [\n\n      function (a, b) {\n        lastSort.push(a - b)\n        return a - b\n      },\n      function (a, b) {\n        lastSort.push(b - a)\n        return b - a\n      }\n    ],\n    [\n\n      function (a, b) {\n        lastSort.push((a + '') > (b + '') ? 1 : ((a + '') < (b + '') ? -1 : 0))\n        return (a + '') > (b + '') ? 1 : ((a + '') < (b + '') ? -1 : 0)\n      },\n      function (a, b) {\n        lastSort.push((b + '') > (a + '') ? 1 : ((b + '') < (a + '') ? -1 : 0))\n        return (b + '') > (a + '') ? 1 : ((b + '') < (a + '') ? -1 : 0)\n      }\n    ]\n  ]\n\n  var sortArrs = [\n    []\n  ]\n\n  var sortKeys = [\n    []\n  ]\n\n  // Store first argument into sortArrs and sortKeys if an Object.\n  // First Argument should be either a Javascript Array or an Object,\n  // otherwise function would return FALSE like in PHP\n  if (Object.prototype.toString.call(arr) === '[object Array]') {\n    sortArrs[0] = arr\n  } else if (arr && typeof arr === 'object') {\n    for (i in arr) {\n      if (arr.hasOwnProperty(i)) {\n        sortKeys[0].push(i)\n        sortArrs[0].push(arr[i])\n      }\n    }\n  } else {\n    return false\n  }\n\n  // arrMainLength: Holds the length of the first array.\n  // All other arrays must be of equal length, otherwise function would return FALSE like in PHP\n  // sortComponents: Holds 2 indexes per every section of the array\n  // that can be sorted. As this is the start, the whole array can be sorted.\n  var arrMainLength = sortArrs[0].length\n  var sortComponents = [0, arrMainLength]\n\n  // Loop through all other arguments, checking lengths and sort flags\n  // of arrays and adding them to the above variables.\n  var argl = arguments.length\n  for (j = 1; j < argl; j++) {\n    if (Object.prototype.toString.call(arguments[j]) === '[object Array]') {\n      sortArrs[j] = arguments[j]\n      sortFlag[j] = 0\n      if (arguments[j].length !== arrMainLength) {\n        return false\n      }\n    } else if (arguments[j] && typeof arguments[j] === 'object') {\n      sortKeys[j] = []\n      sortArrs[j] = []\n      sortFlag[j] = 0\n      for (i in arguments[j]) {\n        if (arguments[j].hasOwnProperty(i)) {\n          sortKeys[j].push(i)\n          sortArrs[j].push(arguments[j][i])\n        }\n      }\n      if (sortArrs[j].length !== arrMainLength) {\n        return false\n      }\n    } else if (typeof arguments[j] === 'string') {\n      var lFlag = sortFlag.pop()\n      // Keep extra parentheses around latter flags check\n      // to avoid minimization leading to CDATA closer\n      if (typeof flags[arguments[j]] === 'undefined' ||\n        ((((flags[arguments[j]]) >>> 4) & (lFlag >>> 4)) > 0)) {\n        return false\n      }\n      sortFlag.push(lFlag + flags[arguments[j]])\n    } else {\n      return false\n    }\n  }\n\n  for (i = 0; i !== arrMainLength; i++) {\n    thingsToSort.push(true)\n  }\n\n  // Sort all the arrays....\n  for (i in sortArrs) {\n    if (sortArrs.hasOwnProperty(i)) {\n      lastSorts = []\n      tmpArray = []\n      elIndex = 0\n      nLastSort = []\n      lastSort = []\n\n      // If there are no sortComponents, then no more sorting is neeeded.\n      // Copy the array back to the argument.\n      if (sortComponents.length === 0) {\n        if (Object.prototype.toString.call(arguments[i]) === '[object Array]') {\n          args[i] = sortArrs[i]\n        } else {\n          for (k in arguments[i]) {\n            if (arguments[i].hasOwnProperty(k)) {\n              delete arguments[i][k]\n            }\n          }\n          sal = sortArrs[i].length\n          for (j = 0, vkey = 0; j < sal; j++) {\n            vkey = sortKeys[i][j]\n            args[i][vkey] = sortArrs[i][j]\n          }\n        }\n        delete sortArrs[i]\n        delete sortKeys[i]\n        continue\n      }\n\n      // Sort function for sorting. Either sorts asc or desc, regular/string or numeric.\n      var sFunction = sortFunctions[(sortFlag[i] & 3)][((sortFlag[i] & 8) > 0) ? 1 : 0]\n\n      // Sort current array.\n      for (l = 0; l !== sortComponents.length; l += 2) {\n        tmpArray = sortArrs[i].slice(sortComponents[l], sortComponents[l + 1] + 1)\n        tmpArray.sort(sFunction)\n        // Is there a better way to copy an array in Javascript?\n        lastSorts[l] = [].concat(lastSort)\n        elIndex = sortComponents[l]\n        for (g in tmpArray) {\n          if (tmpArray.hasOwnProperty(g)) {\n            sortArrs[i][elIndex] = tmpArray[g]\n            elIndex++\n          }\n        }\n      }\n\n      // Duplicate the sorting of the current array on future arrays.\n      sFunction = sortDuplicator\n      for (j in sortArrs) {\n        if (sortArrs.hasOwnProperty(j)) {\n          if (sortArrs[j] === sortArrs[i]) {\n            continue\n          }\n          for (l = 0; l !== sortComponents.length; l += 2) {\n            tmpArray = sortArrs[j].slice(sortComponents[l], sortComponents[l + 1] + 1)\n            // alert(l + ':' + nLastSort);\n            nLastSort = [].concat(lastSorts[l])\n            tmpArray.sort(sFunction)\n            elIndex = sortComponents[l]\n            for (g in tmpArray) {\n              if (tmpArray.hasOwnProperty(g)) {\n                sortArrs[j][elIndex] = tmpArray[g]\n                elIndex++\n              }\n            }\n          }\n        }\n      }\n\n      // Duplicate the sorting of the current array on array keys\n      for (j in sortKeys) {\n        if (sortKeys.hasOwnProperty(j)) {\n          for (l = 0; l !== sortComponents.length; l += 2) {\n            tmpArray = sortKeys[j].slice(sortComponents[l], sortComponents[l + 1] + 1)\n            nLastSort = [].concat(lastSorts[l])\n            tmpArray.sort(sFunction)\n            elIndex = sortComponents[l]\n            for (g in tmpArray) {\n              if (tmpArray.hasOwnProperty(g)) {\n                sortKeys[j][elIndex] = tmpArray[g]\n                elIndex++\n              }\n            }\n          }\n        }\n      }\n\n      // Generate the next sortComponents\n      zlast = null\n      sortComponents = []\n      for (j in sortArrs[i]) {\n        if (sortArrs[i].hasOwnProperty(j)) {\n          if (!thingsToSort[j]) {\n            if ((sortComponents.length & 1)) {\n              sortComponents.push(j - 1)\n            }\n            zlast = null\n            continue\n          }\n          if (!(sortComponents.length & 1)) {\n            if (zlast !== null) {\n              if (sortArrs[i][j] === zlast) {\n                sortComponents.push(j - 1)\n              } else {\n                thingsToSort[j] = false\n              }\n            }\n            zlast = sortArrs[i][j]\n          } else {\n            if (sortArrs[i][j] !== zlast) {\n              sortComponents.push(j - 1)\n              zlast = sortArrs[i][j]\n            }\n          }\n        }\n      }\n\n      if (sortComponents.length & 1) {\n        sortComponents.push(j)\n      }\n      if (Object.prototype.toString.call(arguments[i]) === '[object Array]') {\n        args[i] = sortArrs[i]\n      } else {\n        for (j in arguments[i]) {\n          if (arguments[i].hasOwnProperty(j)) {\n            delete arguments[i][j]\n          }\n        }\n\n        sal = sortArrs[i].length\n        for (j = 0, vkey = 0; j < sal; j++) {\n          vkey = sortKeys[i][j]\n          args[i][vkey] = sortArrs[i][j]\n        }\n      }\n      delete sortArrs[i]\n      delete sortKeys[i]\n    }\n  }\n  return true\n}\n"]}