{"version":3,"sources":["../../../src/php/var/var_dump.js"],"names":[],"mappings":";;;;AAAA,OAAO,OAAP,GAAiB,SAAS,QAAT,GAAqB;;;;;;;;;;;AAUpC,MAAI,OAAO,QAAQ,iBAAR,CAAX;AACA,MAAI,SAAS,EAAb;AACA,MAAI,UAAU,GAAd;AACA,MAAI,SAAS,CAAb;AACA,MAAI,OAAO,CAAX;AACA,MAAI,IAAI,CAAR;;AAEA,MAAI,eAAe,SAAf,YAAe,CAAU,EAAV,EAAc;AAC/B,QAAI,OAAQ,8BAAD,CACR,IADQ,CACH,EADG,CAAX;AAEA,QAAI,CAAC,IAAL,EAAW;AACT,aAAO,aAAP;AACD;AACD,WAAO,KAAK,CAAL,CAAP;AACD,GAPD;;AASA,MAAI,cAAc,SAAd,WAAc,CAAU,GAAV,EAAe,OAAf,EAAwB;AACxC,QAAI,MAAM,EAAV;AACA,SAAK,IAAI,IAAI,CAAb,EAAgB,IAAI,GAApB,EAAyB,GAAzB,EAA8B;AAC5B,aAAO,OAAP;AACD;AACD,WAAO,GAAP;AACD,GAND;AAOA,MAAI,eAAe,SAAf,YAAe,CAAU,GAAV,EAAe,QAAf,EAAyB;AAC1C,QAAI,MAAM,EAAV;AACA,QAAI,QAAQ,IAAZ,EAAkB;AAChB,YAAM,MAAN;AACD,KAFD,MAEO,IAAI,OAAO,GAAP,KAAe,SAAnB,EAA8B;AACnC,YAAM,UAAU,GAAV,GAAgB,GAAtB;AACD,KAFM,MAEA,IAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AAClC,YAAM,YAAY,IAAI,MAAhB,GAAyB,KAAzB,GAAiC,GAAjC,GAAuC,GAA7C;AACD,KAFM,MAEA,IAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AAClC,UAAI,WAAW,GAAX,MAAoB,SAAS,GAAT,EAAc,EAAd,CAAxB,EAA2C;AACzC,cAAM,SAAS,GAAT,GAAe,GAArB;AACD,OAFD,MAEO;AACL,cAAM,WAAW,GAAX,GAAiB,GAAvB;AACD;AACF,KANM,MAMA,IAAI,OAAO,GAAP,KAAe,WAAnB,EAAgC;;;AAGrC,YAAM,WAAN;AACD,KAJM,MAIA,IAAI,OAAO,GAAP,KAAe,UAAnB,EAA+B;AACpC,UAAI,YAAY,IAAI,QAAJ,GACb,KADa,CACP,IADO,CAAhB;AAEA,YAAM,EAAN;AACA,WAAK,IAAI,IAAI,CAAR,EAAW,MAAM,UAAU,MAAhC,EAAwC,IAAI,GAA5C,EAAiD,GAAjD,EAAsD;AACpD,eAAO,CAAC,MAAM,CAAN,GAAU,OAAO,QAAjB,GAA4B,EAA7B,IAAmC,UAAU,CAAV,CAA1C;AACD;AACF,KAPM,MAOA,IAAI,eAAe,IAAnB,EAAyB;AAC9B,YAAM,UAAU,GAAV,GAAgB,GAAtB;AACD,KAFM,MAEA,IAAI,eAAe,MAAnB,EAA2B;AAChC,YAAM,YAAY,GAAZ,GAAkB,GAAxB;AACD,KAFM,MAEA,IAAI,IAAI,QAAR,EAAkB;;AAEvB,cAAQ,IAAI,QAAZ;AACE,aAAK,CAAL;AACE,cAAI,OAAO,IAAI,YAAX,KAA4B,WAA5B,IACF,IAAI,YAAJ,KAAqB,8BADvB,EACuD;;AAErD,kBAAM,kBAAkB,IAAI,QAAtB,GAAiC,IAAvC;AACD,WAJD,MAIO;AACL,kBAAM,kBAAkB,IAAI,QAAtB,GAAiC,IAAvC;AACD;AACD;AACF,aAAK,CAAL;AACE,gBAAM,oBAAoB,IAAI,QAAxB,GAAmC,GAAzC;AACA;AACF,aAAK,CAAL;AACE,gBAAM,eAAe,IAAI,SAAnB,GAA+B,GAArC;AACA;AACF,aAAK,CAAL;AACE,gBAAM,wBAAwB,IAAI,SAA5B,GAAwC,GAA9C;AACA;AACF,aAAK,CAAL;AACE,gBAAM,uBAAN;AACA;AACF,aAAK,CAAL;AACE,gBAAM,aAAN;AACA;AACF,aAAK,CAAL;AACE,gBAAM,iCAAiC,IAAI,QAArC,GAAgD,GAAhD,GAAsD,IAAI,SAA1D,GAAsE,GAA5E;AACA;AACF,aAAK,CAAL;AACE,gBAAM,kBAAkB,IAAI,SAAtB,GAAkC,GAAxC;AACA;AACF,aAAK,CAAL;AACE,gBAAM,eAAN;AACA;AACF,aAAK,EAAL;AACE,gBAAM,oBAAN;AACA;AACF,aAAK,EAAL;AACE,gBAAM,wBAAN;AACA;AACF,aAAK,EAAL;AACE,gBAAM,eAAN;AACA;AA1CJ;AA4CD;AACD,WAAO,GAAP;AACD,GA7ED;;AA+EA,MAAI,eAAe,SAAf,YAAe,CAAU,GAAV,EAAe,QAAf,EAAyB,MAAzB,EAAiC,OAAjC,EAA0C;AAC3D,QAAI,WAAW,CAAf,EAAkB;AAChB;AACD;;AAED,QAAI,UAAU,YAAY,UAAU,WAAW,CAArB,CAAZ,EAAqC,OAArC,CAAd;AACA,QAAI,WAAW,YAAY,UAAU,WAAW,CAArB,CAAZ,EAAqC,OAArC,CAAf;AACA,QAAI,MAAM,EAAV;AACA,QAAI,MAAM,EAAV;;AAEA,QAAI,QAAO,GAAP,yCAAO,GAAP,OAAe,QAAf,IAA2B,QAAQ,IAAvC,EAA6C;AAC3C,UAAI,IAAI,WAAJ,IAAmB,aAAa,IAAI,WAAjB,MAAkC,kBAAzD,EAA6E;AAC3E,eAAO,IAAI,QAAJ,EAAP;AACD;AACD,aAAO,CAAP;AACA,WAAK,IAAI,QAAT,IAAqB,GAArB,EAA0B;AACxB,YAAI,IAAI,cAAJ,CAAmB,QAAnB,CAAJ,EAAkC;AAChC;AACD;AACF;AACD,aAAO,WAAW,IAAX,GAAkB,OAAzB;AACA,WAAK,IAAI,GAAT,IAAgB,GAAhB,EAAqB;AACnB,YAAI,SAAS,IAAI,GAAJ,CAAb;AACA,YAAI,QAAO,MAAP,yCAAO,MAAP,OAAkB,QAAlB,IACF,WAAW,IADT,IAEF,EAAE,kBAAkB,IAApB,CAFE,IAGF,EAAE,kBAAkB,MAApB,CAHE,IAIF,CAAC,OAAO,QAJV,EAIoB;AAClB,iBAAO,QAAP;AACA,iBAAO,GAAP;AACA,iBAAO,GAAP;AACA,iBAAO,QAAP;AACA,iBAAO,QAAP;AACA,iBAAO,aAAa,MAAb,EAAqB,WAAW,CAAhC,EAAmC,MAAnC,EAA2C,OAA3C,CAAP;AACD,SAXD,MAWO;AACL,gBAAM,aAAa,MAAb,EAAqB,QAArB,CAAN;AACA,iBAAO,QAAP;AACA,iBAAO,GAAP;AACA,iBAAO,GAAP;AACA,iBAAO,QAAP;AACA,iBAAO,QAAP;AACA,iBAAO,GAAP;AACA,iBAAO,IAAP;AACD;AACF;AACD,aAAO,UAAU,KAAjB;AACD,KApCD,MAoCO;AACL,YAAM,aAAa,GAAb,EAAkB,QAAlB,CAAN;AACD;AACD,WAAO,GAAP;AACD,GAlDD;;AAoDA,WAAS,aAAa,UAAU,CAAV,CAAb,EAA2B,CAA3B,EAA8B,MAA9B,EAAsC,OAAtC,CAAT;AACA,OAAK,IAAI,CAAT,EAAY,IAAI,UAAU,MAA1B,EAAkC,GAAlC,EAAuC;AACrC,cAAU,OAAO,aAAa,UAAU,CAAV,CAAb,EAA2B,CAA3B,EAA8B,MAA9B,EAAsC,OAAtC,CAAjB;AACD;;AAED,OAAK,MAAL;;;AAGA,SAAO,MAAP;AACD,CA7KD","file":"var_dump.js","sourcesContent":["module.exports = function var_dump () { // eslint-disable-line camelcase\n  //  discuss at: http://locutus.io/php/var_dump/\n  // original by: Brett Zamir (http://brett-zamir.me)\n  // improved by: Zahlii\n  // improved by: Brett Zamir (http://brett-zamir.me)\n  //      note 1: For returning a string, use var_export() with the second argument set to true\n  //        test: skip-all\n  //   example 1: var_dump(1)\n  //   returns 1: 'int(1)'\n\n  var echo = require('../strings/echo')\n  var output = ''\n  var padChar = ' '\n  var padVal = 4\n  var lgth = 0\n  var i = 0\n\n  var _getFuncName = function (fn) {\n    var name = (/\\W*function\\s+([\\w\\$]+)\\s*\\(/)\n      .exec(fn)\n    if (!name) {\n      return '(Anonymous)'\n    }\n    return name[1]\n  }\n\n  var _repeatChar = function (len, padChar) {\n    var str = ''\n    for (var i = 0; i < len; i++) {\n      str += padChar\n    }\n    return str\n  }\n  var _getInnerVal = function (val, thickPad) {\n    var ret = ''\n    if (val === null) {\n      ret = 'NULL'\n    } else if (typeof val === 'boolean') {\n      ret = 'bool(' + val + ')'\n    } else if (typeof val === 'string') {\n      ret = 'string(' + val.length + ') \"' + val + '\"'\n    } else if (typeof val === 'number') {\n      if (parseFloat(val) === parseInt(val, 10)) {\n        ret = 'int(' + val + ')'\n      } else {\n        ret = 'float(' + val + ')'\n      }\n    } else if (typeof val === 'undefined') {\n      // The remaining are not PHP behavior because these values\n      // only exist in this exact form in JavaScript\n      ret = 'undefined'\n    } else if (typeof val === 'function') {\n      var funcLines = val.toString()\n        .split('\\n')\n      ret = ''\n      for (var i = 0, fll = funcLines.length; i < fll; i++) {\n        ret += (i !== 0 ? '\\n' + thickPad : '') + funcLines[i]\n      }\n    } else if (val instanceof Date) {\n      ret = 'Date(' + val + ')'\n    } else if (val instanceof RegExp) {\n      ret = 'RegExp(' + val + ')'\n    } else if (val.nodeName) {\n      // Different than PHP's DOMElement\n      switch (val.nodeType) {\n        case 1:\n          if (typeof val.namespaceURI === 'undefined' ||\n            val.namespaceURI === 'http://www.w3.org/1999/xhtml') {\n          // Undefined namespace could be plain XML, but namespaceURI not widely supported\n            ret = 'HTMLElement(\"' + val.nodeName + '\")'\n          } else {\n            ret = 'XML Element(\"' + val.nodeName + '\")'\n          }\n          break\n        case 2:\n          ret = 'ATTRIBUTE_NODE(' + val.nodeName + ')'\n          break\n        case 3:\n          ret = 'TEXT_NODE(' + val.nodeValue + ')'\n          break\n        case 4:\n          ret = 'CDATA_SECTION_NODE(' + val.nodeValue + ')'\n          break\n        case 5:\n          ret = 'ENTITY_REFERENCE_NODE'\n          break\n        case 6:\n          ret = 'ENTITY_NODE'\n          break\n        case 7:\n          ret = 'PROCESSING_INSTRUCTION_NODE(' + val.nodeName + ':' + val.nodeValue + ')'\n          break\n        case 8:\n          ret = 'COMMENT_NODE(' + val.nodeValue + ')'\n          break\n        case 9:\n          ret = 'DOCUMENT_NODE'\n          break\n        case 10:\n          ret = 'DOCUMENT_TYPE_NODE'\n          break\n        case 11:\n          ret = 'DOCUMENT_FRAGMENT_NODE'\n          break\n        case 12:\n          ret = 'NOTATION_NODE'\n          break\n      }\n    }\n    return ret\n  }\n\n  var _formatArray = function (obj, curDepth, padVal, padChar) {\n    if (curDepth > 0) {\n      curDepth++\n    }\n\n    var basePad = _repeatChar(padVal * (curDepth - 1), padChar)\n    var thickPad = _repeatChar(padVal * (curDepth + 1), padChar)\n    var str = ''\n    var val = ''\n\n    if (typeof obj === 'object' && obj !== null) {\n      if (obj.constructor && _getFuncName(obj.constructor) === 'LOCUTUS_Resource') {\n        return obj.var_dump()\n      }\n      lgth = 0\n      for (var someProp in obj) {\n        if (obj.hasOwnProperty(someProp)) {\n          lgth++\n        }\n      }\n      str += 'array(' + lgth + ') {\\n'\n      for (var key in obj) {\n        var objVal = obj[key]\n        if (typeof objVal === 'object' &&\n          objVal !== null &&\n          !(objVal instanceof Date) &&\n          !(objVal instanceof RegExp) &&\n          !objVal.nodeName) {\n          str += thickPad\n          str += '['\n          str += key\n          str += '] =>\\n'\n          str += thickPad\n          str += _formatArray(objVal, curDepth + 1, padVal, padChar)\n        } else {\n          val = _getInnerVal(objVal, thickPad)\n          str += thickPad\n          str += '['\n          str += key\n          str += '] =>\\n'\n          str += thickPad\n          str += val\n          str += '\\n'\n        }\n      }\n      str += basePad + '}\\n'\n    } else {\n      str = _getInnerVal(obj, thickPad)\n    }\n    return str\n  }\n\n  output = _formatArray(arguments[0], 0, padVal, padChar)\n  for (i = 1; i < arguments.length; i++) {\n    output += '\\n' + _formatArray(arguments[i], 0, padVal, padChar)\n  }\n\n  echo(output)\n\n  // Not how PHP does it, but helps us test:\n  return output\n}\n"]}