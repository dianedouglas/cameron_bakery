{"version":3,"sources":["../../../src/php/strings/htmlentities.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,SAAS,YAAT,CAAuB,MAAvB,EAA+B,UAA/B,EAA2C,OAA3C,EAAoD,YAApD,EAAkE;;;;;;;;;;;;;;;;;;AAkBjF,MAAI,0BAA0B,QAAQ,uCAAR,CAA9B;AACA,MAAI,UAAU,wBAAwB,eAAxB,EAAyC,UAAzC,CAAd;;AAEA,WAAS,WAAW,IAAX,GAAkB,EAAlB,GAAuB,SAAS,EAAzC;;AAEA,MAAI,CAAC,OAAL,EAAc;AACZ,WAAO,KAAP;AACD;;AAED,MAAI,cAAc,eAAe,YAAjC,EAA+C;AAC7C,YAAQ,GAAR,IAAe,QAAf;AACD;;AAED,iBAAe,iBAAiB,IAAjB,IAAyB,CAAC,CAAC,YAA1C;;AAEA,MAAI,QAAQ,IAAI,MAAJ,CAAW,gDACrB,OAAO,IAAP,CAAY,OAAZ,EACC,IADD,CACM,EADN;;AAAA,GAGC,OAHD,CAGS,2BAHT,EAGsC,MAHtC,CADqB,GAI2B,GAJtC,EAKV,GALU,CAAZ;;AAOA,SAAO,OAAO,OAAP,CAAe,KAAf,EAAsB,UAAU,GAAV,EAAe;AAC1C,QAAI,IAAI,MAAJ,GAAa,CAAjB,EAAoB;AAClB,aAAO,eAAe,QAAQ,GAAR,IAAe,IAAI,MAAJ,CAAW,CAAX,CAA9B,GAA8C,GAArD;AACD;;AAED,WAAO,QAAQ,GAAR,CAAP;AACD,GANM,CAAP;AAOD,CA/CD","file":"htmlentities.js","sourcesContent":["module.exports = function htmlentities (string, quoteStyle, charset, doubleEncode) {\n  //  discuss at: http://locutus.io/php/htmlentities/\n  // original by: Kevin van Zonneveld (http://kvz.io)\n  //  revised by: Kevin van Zonneveld (http://kvz.io)\n  //  revised by: Kevin van Zonneveld (http://kvz.io)\n  // improved by: nobbler\n  // improved by: Jack\n  // improved by: RafaÅ‚ Kukawski (http://blog.kukawski.pl)\n  // improved by: Dj (http://locutus.io/php/htmlentities:425#comment_134018)\n  // bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //    input by: Ratheous\n  //      note 1: function is compatible with PHP 5.2 and older\n  //   example 1: htmlentities('Kevin & van Zonneveld')\n  //   returns 1: 'Kevin &amp; van Zonneveld'\n  //   example 2: htmlentities(\"foo'bar\",\"ENT_QUOTES\")\n  //   returns 2: 'foo&#039;bar'\n\n  var getHtmlTranslationTable = require('../strings/get_html_translation_table')\n  var hashMap = getHtmlTranslationTable('HTML_ENTITIES', quoteStyle)\n\n  string = string === null ? '' : string + ''\n\n  if (!hashMap) {\n    return false\n  }\n\n  if (quoteStyle && quoteStyle === 'ENT_QUOTES') {\n    hashMap[\"'\"] = '&#039;'\n  }\n\n  doubleEncode = doubleEncode === null || !!doubleEncode\n\n  var regex = new RegExp('&(?:#\\\\d+|#x[\\\\da-f]+|[a-zA-Z][\\\\da-z]*);|[' +\n    Object.keys(hashMap)\n    .join('')\n    // replace regexp special chars\n    .replace(/([()[\\]{}\\-.*+?^$|\\/\\\\])/g, '\\\\$1') + ']',\n    'g')\n\n  return string.replace(regex, function (ent) {\n    if (ent.length > 1) {\n      return doubleEncode ? hashMap['&'] + ent.substr(1) : ent\n    }\n\n    return hashMap[ent]\n  })\n}\n"]}