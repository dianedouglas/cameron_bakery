<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>kss-node JavaScript API: Source: lib/kss.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: lib/kss.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/* eslint-disable key-spacing */

'use strict';

/**
 * The core kss API can be imported with:
 * ```
 * var kss = require('kss');
 * ```
 *
 * The main object is a function that will generate a style guide given the
 * correct options.
 * ```
 * kss(opts, callback);
 * ```
 * The various constructors and methods can then be accessed with:
 * ```
 * var kssStyleguide = new kss.KssStyleguide();
 * var kssSection    = new kss.KssSection();
 * var kssModifier   = new kss.KssModifier();
 * var kssParameter  = new kss.KssParameter();
 * var kssConfig     = new kss.KssConfig();
 * kss.parse();
 * kss.traverse();
 * ```
 * @module kss
 */

var cli = require('./cli.js');

/**
 * Generates a style guide given the proper options.
 *
 * @param {object} options A collection of configuration options.
 * @param {Function} done Callback function
 * @returns {*} null
 */
var kss = function(options, done) {
  var stdout, stderr, argv,
    flag, values, i;

  // Allow options to provide an alternative to the process' stdout/stderr.
  stdout = (options.pipes &amp;&amp; options.pipes.stdout) ? options.pipes.stdout : process.stdout;
  stderr = (options.pipes &amp;&amp; options.pipes.stderr) ? options.pipes.stderr : process.stderr;

  // Create an argv-like Array from the options.
  argv = ['node', 'bin/kss-node'];
  for (flag in options) {
    if (options.hasOwnProperty(flag)) {
      values = options[flag];
      if (!Array.isArray(values)) {
        values = [values];
      }
      for (i = 0; i &lt; values.length; i++) {
        if (values[i] === null
          || typeof values[i] === 'boolean'
          || typeof values[i] === 'undefined'
        ) {
          argv.push('--' + flag);
        } else {
          argv.push('--' + flag, values[i]);
        }
      }
    }
  }

  // @TODO: This is a bit backwards, but our CLI came first. So now our "pure"
  // JavaScript API is calling the cli module. In 3.x, swap this around.
  return cli({
    stdout: stdout,
    stderr: stderr,
    argv: argv
  }, done);
};

module.exports = kss;
module.exports.KssConfig = require('./kss_config.js');
module.exports.KssStyleguide = require('./kss_styleguide.js');
module.exports.KssSection = require('./kss_section.js');
module.exports.KssModifier = require('./kss_modifier.js');
module.exports.KssParameter = require('./kss_parameter.js');
module.exports.parse = require('./parse.js');
module.exports.traverse = require('./traverse.js');
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-kss.html">kss</a></li><li><a href="module-kss_generator.html">kss/generator</a></li><li><a href="module-kss_generator_handlebars.html">kss/generator/handlebars</a></li><li><a href="module-kss_lib_kss_config.html">kss/lib/kss_config</a></li><li><a href="module-kss_lib_kss_modifier.html">kss/lib/kss_modifier</a></li><li><a href="module-kss_lib_kss_parameter.html">kss/lib/kss_parameter</a></li><li><a href="module-kss_lib_kss_section.html">kss/lib/kss_section</a></li><li><a href="module-kss_lib_kss_styleguide.html">kss/lib/kss_styleguide</a></li><li><a href="module-kss_lib_parse.html">kss/lib/parse</a></li><li><a href="module-kss_lib_traverse.html">kss/lib/traverse</a></li></ul><h3>Classes</h3><ul><li><a href="KssGenerator.html">KssGenerator</a></li><li><a href="module-kss.KssConfig.html">KssConfig</a></li><li><a href="module-kss.KssModifier.html">KssModifier</a></li><li><a href="module-kss.KssParameter.html">KssParameter</a></li><li><a href="module-kss.KssSection.html">KssSection</a></li><li><a href="module-kss.KssStyleguide.html">KssStyleguide</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.0</a>
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
