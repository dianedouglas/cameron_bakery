{"version":3,"sources":["../../../src/php/math/round.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,SAAS,KAAT,CAAgB,KAAhB,EAAuB,SAAvB,EAAkC,IAAlC,EAAwC;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BvD,MAAI,CAAJ,EAAO,CAAP,EAAU,MAAV,EAAkB,GAAlB,C;;AAEA,eAAa,CAAb;AACA,MAAI,KAAK,GAAL,CAAS,EAAT,EAAa,SAAb,CAAJ;AACA,WAAS,CAAT;;AAEA,QAAO,QAAQ,CAAT,GAAc,EAAE,QAAQ,CAAV,CAApB;AACA,WAAS,QAAQ,CAAR,KAAc,MAAM,GAA7B;AACA,MAAI,KAAK,KAAL,CAAW,KAAX,CAAJ;;AAEA,MAAI,MAAJ,EAAY;AACV,YAAQ,IAAR;AACE,WAAK,qBAAL;;AAEE,gBAAQ,KAAK,MAAM,CAAX,CAAR;AACA;AACF,WAAK,qBAAL;;AAEE,gBAAQ,IAAK,IAAI,CAAJ,GAAQ,GAArB;AACA;AACF,WAAK,oBAAL;;AAEE,gBAAQ,IAAI,EAAE,IAAI,CAAN,CAAZ;AACA;AACF;;AAEE,gBAAQ,KAAK,MAAM,CAAX,CAAR;AAfJ;AAiBD;;AAED,SAAO,CAAC,SAAS,KAAT,GAAiB,KAAK,KAAL,CAAW,KAAX,CAAlB,IAAuC,CAA9C;AACD,CA1DD","file":"round.js","sourcesContent":["module.exports = function round (value, precision, mode) {\n  //  discuss at: http://locutus.io/php/round/\n  // original by: Philip Peterson\n  //  revised by: Onno Marsman (https://twitter.com/onnomarsman)\n  //  revised by: T.Wild\n  //  revised by: RafaÅ‚ Kukawski (http://blog.kukawski.pl)\n  //    input by: Greenseed\n  //    input by: meo\n  //    input by: William\n  //    input by: Josep Sanz (http://www.ws3.es/)\n  // bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //      note 1: Great work. Ideas for improvement:\n  //      note 1: - code more compliant with developer guidelines\n  //      note 1: - for implementing PHP constant arguments look at\n  //      note 1: the pathinfo() function, it offers the greatest\n  //      note 1: flexibility & compatibility possible\n  //   example 1: round(1241757, -3)\n  //   returns 1: 1242000\n  //   example 2: round(3.6)\n  //   returns 2: 4\n  //   example 3: round(2.835, 2)\n  //   returns 3: 2.84\n  //   example 4: round(1.1749999999999, 2)\n  //   returns 4: 1.17\n  //   example 5: round(58551.799999999996, 2)\n  //   returns 5: 58551.8\n\n  var m, f, isHalf, sgn // helper variables\n  // making sure precision is integer\n  precision |= 0\n  m = Math.pow(10, precision)\n  value *= m\n  // sign of the number\n  sgn = (value > 0) | -(value < 0)\n  isHalf = value % 1 === 0.5 * sgn\n  f = Math.floor(value)\n\n  if (isHalf) {\n    switch (mode) {\n      case 'PHP_ROUND_HALF_DOWN':\n      // rounds .5 toward zero\n        value = f + (sgn < 0)\n        break\n      case 'PHP_ROUND_HALF_EVEN':\n      // rouds .5 towards the next even integer\n        value = f + (f % 2 * sgn)\n        break\n      case 'PHP_ROUND_HALF_ODD':\n      // rounds .5 towards the next odd integer\n        value = f + !(f % 2)\n        break\n      default:\n      // rounds .5 away from zero\n        value = f + (sgn > 0)\n    }\n  }\n\n  return (isHalf ? value : Math.round(value)) / m\n}\n"]}