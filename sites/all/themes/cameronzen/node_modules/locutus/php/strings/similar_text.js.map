{"version":3,"sources":["../../../src/php/strings/similar_text.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,SAAS,YAAT,CAAuB,KAAvB,EAA8B,MAA9B,EAAsC,OAAtC,EAA+C;;;;;;;;;;;;AAW9D,MAAI,UAAU,IAAV,IACF,WAAW,IADT,IAEF,OAAO,KAAP,KAAiB,WAFf,IAGF,OAAO,MAAP,KAAkB,WAHpB,EAGiC;AAC/B,WAAO,CAAP;AACD;;AAED,WAAS,EAAT;AACA,YAAU,EAAV;;AAEA,MAAI,OAAO,CAAX;AACA,MAAI,OAAO,CAAX;AACA,MAAI,MAAM,CAAV;AACA,MAAI,cAAc,MAAM,MAAxB;AACA,MAAI,eAAe,OAAO,MAA1B;AACA,MAAI,CAAJ;AACA,MAAI,CAAJ;AACA,MAAI,CAAJ;AACA,MAAI,GAAJ;;AAEA,OAAK,IAAI,CAAT,EAAY,IAAI,WAAhB,EAA6B,GAA7B,EAAkC;AAChC,SAAK,IAAI,CAAT,EAAY,IAAI,YAAhB,EAA8B,GAA9B,EAAmC;AACjC,WAAK,IAAI,CAAT,EAAa,IAAI,CAAJ,GAAQ,WAAT,IAA0B,IAAI,CAAJ,GAAQ,YAAlC,IAAoD,MAAM,MAAN,CAAa,IAAI,CAAjB,MAAwB,OAAO,MAAP,CAAc,IAAI,CAAlB,CAAxF,EAA+G,GAA/G,EAAoH,C;;AAEnH;AACD,UAAI,IAAI,GAAR,EAAa;AACX,cAAM,CAAN;AACA,eAAO,CAAP;AACA,eAAO,CAAP;AACD;AACF;AACF;;AAED,QAAM,GAAN;;AAEA,MAAI,GAAJ,EAAS;AACP,QAAI,QAAQ,IAAZ,EAAkB;AAChB,aAAO,aAAa,MAAM,MAAN,CAAa,CAAb,EAAgB,IAAhB,CAAb,EAAoC,OAAO,MAAP,CAAc,CAAd,EAAiB,IAAjB,CAApC,CAAP;AACD;;AAED,QAAK,OAAO,GAAP,GAAa,WAAd,IAA+B,OAAO,GAAP,GAAa,YAAhD,EAA+D;AAC7D,aAAO,aACL,MAAM,MAAN,CAAa,OAAO,GAApB,EAAyB,cAAc,IAAd,GAAqB,GAA9C,CADK,EAEL,OAAO,MAAP,CAAc,OAAO,GAArB,EACA,eAAe,IAAf,GAAsB,GADtB,CAFK,CAAP;AAID;AACF;;AAED,MAAI,CAAC,OAAL,EAAc;AACZ,WAAO,GAAP;AACD;;AAED,SAAQ,MAAM,GAAP,IAAe,cAAc,YAA7B,CAAP;AACD,CAhED","file":"similar_text.js","sourcesContent":["module.exports = function similar_text (first, second, percent) { // eslint-disable-line camelcase\n  //  discuss at: http://locutus.io/php/similar_text/\n  // original by: Rafa≈Ç Kukawski (http://blog.kukawski.pl)\n  // bugfixed by: Chris McMacken\n  // bugfixed by: Jarkko Rantavuori original by findings in stackoverflow (http://stackoverflow.com/questions/14136349/how-does-similar-text-work)\n  // improved by: Markus Padourek (taken from http://www.kevinhq.com/2012/06/php-similartext-function-in-javascript_16.html)\n  //   example 1: similar_text('Hello World!', 'Hello locutus!')\n  //   returns 1: 8\n  //   example 2: similar_text('Hello World!', null)\n  //   returns 2: 0\n\n  if (first === null ||\n    second === null ||\n    typeof first === 'undefined' ||\n    typeof second === 'undefined') {\n    return 0\n  }\n\n  first += ''\n  second += ''\n\n  var pos1 = 0\n  var pos2 = 0\n  var max = 0\n  var firstLength = first.length\n  var secondLength = second.length\n  var p\n  var q\n  var l\n  var sum\n\n  for (p = 0; p < firstLength; p++) {\n    for (q = 0; q < secondLength; q++) {\n      for (l = 0; (p + l < firstLength) && (q + l < secondLength) && (first.charAt(p + l) === second.charAt(q + l)); l++) { // eslint-disable-line max-len\n        // @todo: ^-- break up this crazy for loop and put the logic in its body\n      }\n      if (l > max) {\n        max = l\n        pos1 = p\n        pos2 = q\n      }\n    }\n  }\n\n  sum = max\n\n  if (sum) {\n    if (pos1 && pos2) {\n      sum += similar_text(first.substr(0, pos1), second.substr(0, pos2))\n    }\n\n    if ((pos1 + max < firstLength) && (pos2 + max < secondLength)) {\n      sum += similar_text(\n        first.substr(pos1 + max, firstLength - pos1 - max),\n        second.substr(pos2 + max,\n        secondLength - pos2 - max))\n    }\n  }\n\n  if (!percent) {\n    return sum\n  }\n\n  return (sum * 200) / (firstLength + secondLength)\n}\n"]}