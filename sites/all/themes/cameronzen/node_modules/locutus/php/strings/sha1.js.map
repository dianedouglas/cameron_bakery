{"version":3,"sources":["../../../src/php/strings/sha1.js"],"names":[],"mappings":"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","file":"sha1.js","sourcesContent":["module.exports = function sha1 (str) {\n  //  discuss at: http://locutus.io/php/sha1/\n  // original by: Webtoolkit.info (http://www.webtoolkit.info/)\n  // improved by: Michael White (http://getsprink.com)\n  // improved by: Kevin van Zonneveld (http://kvz.io)\n  //    input by: Brett Zamir (http://brett-zamir.me)\n  //      note 1: Keep in mind that in accordance with PHP, the whole string is buffered and then\n  //      note 1: hashed. If available, we'd recommend using Node's native crypto modules directly\n  //      note 1: in a steaming fashion for faster and more efficient hashing\n  //   example 1: sha1('Kevin van Zonneveld')\n  //   returns 1: '54916d2e62f65b3afa6e192e6a601cdbe5cb5897'\n\n  var hash\n  try {\n    var crypto = require('crypto')\n    var sha1sum = crypto.createHash('sha1')\n    sha1sum.update(str)\n    hash = sha1sum.digest('hex')\n  } catch (e) {\n    hash = undefined\n  }\n\n  if (hash !== undefined) {\n    return hash\n  }\n\n  var _rotLeft = function (n, s) {\n    var t4 = (n << s) | (n >>> (32 - s))\n    return t4\n  }\n\n  var _cvtHex = function (val) {\n    var str = ''\n    var i\n    var v\n\n    for (i = 7; i >= 0; i--) {\n      v = (val >>> (i * 4)) & 0x0f\n      str += v.toString(16)\n    }\n    return str\n  }\n\n  var blockstart\n  var i, j\n  var W = new Array(80)\n  var H0 = 0x67452301\n  var H1 = 0xEFCDAB89\n  var H2 = 0x98BADCFE\n  var H3 = 0x10325476\n  var H4 = 0xC3D2E1F0\n  var A, B, C, D, E\n  var temp\n\n  // utf8_encode\n  str = unescape(encodeURIComponent(str))\n  var strLen = str.length\n\n  var wordArray = []\n  for (i = 0; i < strLen - 3; i += 4) {\n    j = str.charCodeAt(i) << 24 |\n      str.charCodeAt(i + 1) << 16 |\n      str.charCodeAt(i + 2) << 8 |\n      str.charCodeAt(i + 3)\n    wordArray.push(j)\n  }\n\n  switch (strLen % 4) {\n    case 0:\n      i = 0x080000000\n      break\n    case 1:\n      i = str.charCodeAt(strLen - 1) << 24 | 0x0800000\n      break\n    case 2:\n      i = str.charCodeAt(strLen - 2) << 24 | str.charCodeAt(strLen - 1) << 16 | 0x08000\n      break\n    case 3:\n      i = str.charCodeAt(strLen - 3) << 24 |\n        str.charCodeAt(strLen - 2) << 16 |\n        str.charCodeAt(strLen - 1) <<\n      8 | 0x80\n      break\n  }\n\n  wordArray.push(i)\n\n  while ((wordArray.length % 16) !== 14) {\n    wordArray.push(0)\n  }\n\n  wordArray.push(strLen >>> 29)\n  wordArray.push((strLen << 3) & 0x0ffffffff)\n\n  for (blockstart = 0; blockstart < wordArray.length; blockstart += 16) {\n    for (i = 0; i < 16; i++) {\n      W[i] = wordArray[blockstart + i]\n    }\n    for (i = 16; i <= 79; i++) {\n      W[i] = _rotLeft(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1)\n    }\n\n    A = H0\n    B = H1\n    C = H2\n    D = H3\n    E = H4\n\n    for (i = 0; i <= 19; i++) {\n      temp = (_rotLeft(A, 5) + ((B & C) | (~B & D)) + E + W[i] + 0x5A827999) & 0x0ffffffff\n      E = D\n      D = C\n      C = _rotLeft(B, 30)\n      B = A\n      A = temp\n    }\n\n    for (i = 20; i <= 39; i++) {\n      temp = (_rotLeft(A, 5) + (B ^ C ^ D) + E + W[i] + 0x6ED9EBA1) & 0x0ffffffff\n      E = D\n      D = C\n      C = _rotLeft(B, 30)\n      B = A\n      A = temp\n    }\n\n    for (i = 40; i <= 59; i++) {\n      temp = (_rotLeft(A, 5) + ((B & C) | (B & D) | (C & D)) + E + W[i] + 0x8F1BBCDC) & 0x0ffffffff\n      E = D\n      D = C\n      C = _rotLeft(B, 30)\n      B = A\n      A = temp\n    }\n\n    for (i = 60; i <= 79; i++) {\n      temp = (_rotLeft(A, 5) + (B ^ C ^ D) + E + W[i] + 0xCA62C1D6) & 0x0ffffffff\n      E = D\n      D = C\n      C = _rotLeft(B, 30)\n      B = A\n      A = temp\n    }\n\n    H0 = (H0 + A) & 0x0ffffffff\n    H1 = (H1 + B) & 0x0ffffffff\n    H2 = (H2 + C) & 0x0ffffffff\n    H3 = (H3 + D) & 0x0ffffffff\n    H4 = (H4 + E) & 0x0ffffffff\n  }\n\n  temp = _cvtHex(H0) + _cvtHex(H1) + _cvtHex(H2) + _cvtHex(H3) + _cvtHex(H4)\n  return temp.toLowerCase()\n}\n"]}