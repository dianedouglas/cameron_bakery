{"version":3,"sources":["../../../src/php/strings/htmlspecialchars_decode.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,SAAS,uBAAT,CAAkC,MAAlC,EAA0C,UAA1C,EAAsD;;;;;;;;;;;;;;;;;;;;;;AAqBrE,MAAI,UAAU,CAAd;AACA,MAAI,IAAI,CAAR;AACA,MAAI,WAAW,KAAf;;AAEA,MAAI,OAAO,UAAP,KAAsB,WAA1B,EAAuC;AACrC,iBAAa,CAAb;AACD;AACD,WAAS,OAAO,QAAP,GACN,OADM,CACE,OADF,EACW,GADX,EAEN,OAFM,CAEE,OAFF,EAEW,GAFX,CAAT;AAGA,MAAI,OAAO;AACT,oBAAgB,CADP;AAET,6BAAyB,CAFhB;AAGT,6BAAyB,CAHhB;AAIT,kBAAc,CAJL;AAKT,kBAAc,CALL;AAMT,kBAAc;AANL,GAAX;AAQA,MAAI,eAAe,CAAnB,EAAsB;AACpB,eAAW,IAAX;AACD;AACD,MAAI,OAAO,UAAP,KAAsB,QAA1B,EAAoC;;AAElC,iBAAa,GAAG,MAAH,CAAU,UAAV,CAAb;AACA,SAAK,IAAI,CAAT,EAAY,IAAI,WAAW,MAA3B,EAAmC,GAAnC,EAAwC;;AAEtC,UAAI,KAAK,WAAW,CAAX,CAAL,MAAwB,CAA5B,EAA+B;AAC7B,mBAAW,IAAX;AACD,OAFD,MAEO,IAAI,KAAK,WAAW,CAAX,CAAL,CAAJ,EAAyB;AAC9B,kBAAU,UAAU,KAAK,WAAW,CAAX,CAAL,CAApB;AACD;AACF;AACD,iBAAa,OAAb;AACD;AACD,MAAI,aAAa,KAAK,qBAAtB,EAA6C;;AAE3C,aAAS,OAAO,OAAP,CAAe,UAAf,EAA2B,GAA3B,CAAT;;;AAGD;AACD,MAAI,CAAC,QAAL,EAAe;AACb,aAAS,OAAO,OAAP,CAAe,SAAf,EAA0B,GAA1B,CAAT;AACD;;AAED,WAAS,OAAO,OAAP,CAAe,QAAf,EAAyB,GAAzB,CAAT;;AAEA,SAAO,MAAP;AACD,CApED","file":"htmlspecialchars_decode.js","sourcesContent":["module.exports = function htmlspecialchars_decode (string, quoteStyle) { // eslint-disable-line camelcase\n  //       discuss at: http://locutus.io/php/htmlspecialchars_decode/\n  //      original by: Mirek Slugen\n  //      improved by: Kevin van Zonneveld (http://kvz.io)\n  //      bugfixed by: Mateusz \"loonquawl\" Zalega\n  //      bugfixed by: Onno Marsman (https://twitter.com/onnomarsman)\n  //      bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //      bugfixed by: Brett Zamir (http://brett-zamir.me)\n  //         input by: ReverseSyntax\n  //         input by: Slawomir Kaniecki\n  //         input by: Scott Cariss\n  //         input by: Francois\n  //         input by: Ratheous\n  //         input by: Mailfaker (http://www.weedem.fr/)\n  //       revised by: Kevin van Zonneveld (http://kvz.io)\n  // reimplemented by: Brett Zamir (http://brett-zamir.me)\n  //        example 1: htmlspecialchars_decode(\"<p>this -&gt; &quot;</p>\", 'ENT_NOQUOTES')\n  //        returns 1: '<p>this -> &quot;</p>'\n  //        example 2: htmlspecialchars_decode(\"&amp;quot;\")\n  //        returns 2: '&quot;'\n\n  var optTemp = 0\n  var i = 0\n  var noquotes = false\n\n  if (typeof quoteStyle === 'undefined') {\n    quoteStyle = 2\n  }\n  string = string.toString()\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n  var OPTS = {\n    'ENT_NOQUOTES': 0,\n    'ENT_HTML_QUOTE_SINGLE': 1,\n    'ENT_HTML_QUOTE_DOUBLE': 2,\n    'ENT_COMPAT': 2,\n    'ENT_QUOTES': 3,\n    'ENT_IGNORE': 4\n  }\n  if (quoteStyle === 0) {\n    noquotes = true\n  }\n  if (typeof quoteStyle !== 'number') {\n    // Allow for a single string or an array of string flags\n    quoteStyle = [].concat(quoteStyle)\n    for (i = 0; i < quoteStyle.length; i++) {\n      // Resolve string input to bitwise e.g. 'PATHINFO_EXTENSION' becomes 4\n      if (OPTS[quoteStyle[i]] === 0) {\n        noquotes = true\n      } else if (OPTS[quoteStyle[i]]) {\n        optTemp = optTemp | OPTS[quoteStyle[i]]\n      }\n    }\n    quoteStyle = optTemp\n  }\n  if (quoteStyle & OPTS.ENT_HTML_QUOTE_SINGLE) {\n    // PHP doesn't currently escape if more than one 0, but it should:\n    string = string.replace(/&#0*39;/g, \"'\")\n    // This would also be useful here, but not a part of PHP:\n    // string = string.replace(/&apos;|&#x0*27;/g, \"'\");\n  }\n  if (!noquotes) {\n    string = string.replace(/&quot;/g, '\"')\n  }\n  // Put this in last place to avoid escape being double-decoded\n  string = string.replace(/&amp;/g, '&')\n\n  return string\n}\n"]}