{"version":3,"sources":["../../../src/php/array/each.js"],"names":[],"mappings":";;AAAA,OAAO,OAAP,GAAiB,SAAS,IAAT,CAAe,GAAf,EAAoB;;;;;;;;AAQnC,MAAI,UAAW,OAAO,MAAP,KAAkB,WAAlB,GAAgC,MAAhC,GAAyC,MAAxD;AACA,UAAQ,QAAR,GAAmB,QAAQ,QAAR,IAAoB,EAAvC;AACA,MAAI,WAAW,QAAQ,QAAvB;AACA,WAAS,GAAT,GAAe,SAAS,GAAT,IAAgB,EAA/B;AACA,WAAS,GAAT,CAAa,QAAb,GAAwB,SAAS,GAAT,CAAa,QAAb,IAAyB,EAAjD;AACA,MAAI,WAAW,SAAS,GAAT,CAAa,QAA5B;;AAEA,MAAI,UAAU,SAAV,OAAU,CAAU,KAAV,EAAiB;AAC7B,SAAK,IAAI,IAAI,CAAR,EAAW,SAAS,KAAK,MAA9B,EAAsC,IAAI,MAA1C,EAAkD,GAAlD,EAAuD;AACrD,UAAI,KAAK,CAAL,MAAY,KAAhB,EAAuB;AACrB,eAAO,CAAP;AACD;AACF;AACD,WAAO,CAAC,CAAR;AACD,GAPD;;AASA,MAAI,CAAC,SAAS,OAAd,EAAuB;AACrB,aAAS,OAAT,GAAmB,OAAnB;AACD;AACD,MAAI,SAAS,OAAT,CAAiB,GAAjB,MAA0B,CAAC,CAA/B,EAAkC;AAChC,aAAS,IAAT,CAAc,GAAd,EAAmB,CAAnB;AACD;AACD,MAAI,SAAS,SAAS,OAAT,CAAiB,GAAjB,CAAb;AACA,MAAI,SAAS,SAAS,SAAS,CAAlB,CAAb;AACA,MAAI,MAAM,CAAV;;AAEA,MAAI,OAAO,SAAP,CAAiB,QAAjB,CAA0B,IAA1B,CAA+B,GAA/B,MAAwC,gBAA5C,EAA8D;AAC5D,QAAI,KAAK,CAAT;AACA,SAAK,IAAI,CAAT,IAAc,GAAd,EAAmB;AACjB,UAAI,OAAO,MAAX,EAAmB;AACjB,iBAAS,SAAS,CAAlB,KAAwB,CAAxB;AACA,YAAI,KAAK,eAAT,EAA0B;AACxB,iBAAO,CAAC,CAAD,EAAI,IAAI,CAAJ,CAAJ,CAAP;AACD,SAFD,MAEO;AACL,iBAAO;AACL,eAAG,IAAI,CAAJ,CADE;AAEL,mBAAO,IAAI,CAAJ,CAFF;AAGL,eAAG,CAHE;AAIL,iBAAK;AAJA,WAAP;AAMD;AACF;AACD;AACD;;AAED,WAAO,KAAP;AACD;AACD,MAAI,IAAI,MAAJ,KAAe,CAAf,IAAoB,WAAW,IAAI,MAAvC,EAA+C;AAC7C,WAAO,KAAP;AACD;AACD,QAAM,MAAN;AACA,WAAS,SAAS,CAAlB,KAAwB,CAAxB;AACA,MAAI,KAAK,eAAT,EAA0B;AACxB,WAAO,CAAC,GAAD,EAAM,IAAI,GAAJ,CAAN,CAAP;AACD,GAFD,MAEO;AACL,WAAO;AACL,SAAG,IAAI,GAAJ,CADE;AAEL,aAAO,IAAI,GAAJ,CAFF;AAGL,SAAG,GAHE;AAIL,WAAK;AAJA,KAAP;AAMD;AACF,CAtED","file":"each.js","sourcesContent":["module.exports = function each (arr) {\n  //  discuss at: http://locutus.io/php/each/\n  // original by: Ates Goral (http://magnetiq.com)\n  //  revised by: Brett Zamir (http://brett-zamir.me)\n  //      note 1: Uses global: locutus to store the array pointer\n  //   example 1: each({a: \"apple\", b: \"balloon\"})\n  //   returns 1: {0: \"a\", 1: \"apple\", key: \"a\", value: \"apple\"}\n\n  var $global = (typeof window !== 'undefined' ? window : global)\n  $global.$locutus = $global.$locutus || {}\n  var $locutus = $global.$locutus\n  $locutus.php = $locutus.php || {}\n  $locutus.php.pointers = $locutus.php.pointers || []\n  var pointers = $locutus.php.pointers\n\n  var indexOf = function (value) {\n    for (var i = 0, length = this.length; i < length; i++) {\n      if (this[i] === value) {\n        return i\n      }\n    }\n    return -1\n  }\n\n  if (!pointers.indexOf) {\n    pointers.indexOf = indexOf\n  }\n  if (pointers.indexOf(arr) === -1) {\n    pointers.push(arr, 0)\n  }\n  var arrpos = pointers.indexOf(arr)\n  var cursor = pointers[arrpos + 1]\n  var pos = 0\n\n  if (Object.prototype.toString.call(arr) !== '[object Array]') {\n    var ct = 0\n    for (var k in arr) {\n      if (ct === cursor) {\n        pointers[arrpos + 1] += 1\n        if (each.returnArrayOnly) {\n          return [k, arr[k]]\n        } else {\n          return {\n            1: arr[k],\n            value: arr[k],\n            0: k,\n            key: k\n          }\n        }\n      }\n      ct++\n    }\n    // Empty\n    return false\n  }\n  if (arr.length === 0 || cursor === arr.length) {\n    return false\n  }\n  pos = cursor\n  pointers[arrpos + 1] += 1\n  if (each.returnArrayOnly) {\n    return [pos, arr[pos]]\n  } else {\n    return {\n      1: arr[pos],\n      value: arr[pos],\n      0: pos,\n      key: pos\n    }\n  }\n}\n"]}